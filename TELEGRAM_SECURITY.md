# üîí Telegram Bot Security

## üõ°Ô∏è –ú–µ—Ç–æ–¥—ã –∑–∞—â–∏—Ç—ã:

### **1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ Username**
```env
TELEGRAM_ALLOWED_USERNAME=your_telegram_username
```

### **2. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:**
- üö´ –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–ø—Ä–µ—Ç–µ
- üìù –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è username –∏ ID –Ω–∞—Ä—É—à–∏—Ç–µ–ª—è
- ‚ùå –ö–æ–º–∞–Ω–¥—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

### **3. –°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö:**
```
üö´ –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω

–ò–∑–≤–∏–Ω–∏—Ç–µ, —ç—Ç–æ—Ç –±–æ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

–í–∞—à username: @attacker_username
–í–∞—à ID: 123456789

–ï—Å–ª–∏ –≤—ã —Å—á–∏—Ç–∞–µ—Ç–µ, —á—Ç–æ —ç—Ç–æ –æ—à–∏–±–∫–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞—â–∏—Ç—ã:

### **–®–∞–≥ 1: –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π username**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –≤ Telegram
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ username (–±–µ–∑ @)

### **–®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –≤ .env**
```env
TELEGRAM_ALLOWED_USERNAME=your_username
```

### **–®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä**
–ó–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

### **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:**
```
‚úÖ Authorized command: start_queue_1 from @your_username (ID: 123456789)
```

### **–ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏:**
```
üö´ Unauthorized access attempt: @attacker (ID: 987654321) from chat 987654321
```

## üéØ –ö–æ–º–∞–Ω–¥—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

- `/security` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–π username –∏ —Å—Ç–∞—Ç—É—Å

## ‚ö° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

### **–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
```typescript
// –í isUserAuthorized method –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞:
const allowedUsers = process.env.TELEGRAM_ALLOWED_USERNAME?.split(',') || [];
return allowedUsers.some(username =>
  user.username?.toLowerCase() === username.toLowerCase()
);
```

### **–ò–ª–∏ –∑–∞—â–∏—Ç–∞ –ø–æ Chat ID:**
```env
TELEGRAM_ALLOWED_CHAT_IDS=123456789,987654321
```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - —É–∫–∞–∑–∞–ª–∏ username –∏ –≥–æ—Ç–æ–≤–æ
‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ API
‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤–∏–¥–∏—Ç–µ –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–∞
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

## üîí **–í–∞—à –±–æ—Ç —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–∏–≤–∞—Ç–Ω—ã–π!**
